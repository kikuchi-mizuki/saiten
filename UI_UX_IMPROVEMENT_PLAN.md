# UI/UX改善プラン

## 📋 変更対象ファイル
- `app/streamlit_app.py` - CSS/スタイル改善、軽微なHTML構造調整のみ

## 🎯 改善方針

### 1. 固定レイアウト（縦揺れ防止）
- **現状**: テキストエリアの高さが固定（420px）だが、全体レイアウトが縦に動く
- **改善**: 
  - ページ全体を`100vh`基準のキャンバスに
  - ヘッダー高さを除いた固定高さレイアウト
  - 左カラム（エディタ）と右カラム（パネル）を`grid`で12分割（7:5）
  - 右カラムは内部スクロールのみ（ページ全体はスクロールさせない）

### 2. テキスト入力エリア
- **現状**: 固定高さ420px、プレースホルダーあり
- **改善**:
  - 高さを`calc(100vh - ヘッダー - 下部CTA - 余白)`で計算
  - 内部のみスクロール（`overflow: auto`）
  - `white-space: pre-wrap`で改行保持
  - カード化（角丸、影）

### 3. タブUI
- **現状**: Streamlit標準のタブ
- **改善**:
  - タブを上部固定（`position: sticky`）
  - アクティブタブは太字＋下線バー
  - 非アクティブは中間色
  - 各タブの内容をカード化
  - `max-height`を設定して内部スクロール
  - アクセシビリティ: `role="tablist"`, `aria-selected`

### 4. ボタン/CTA
- **現状**: 左カラム下部に生成ボタン、右カラム内にコピー/クリア
- **改善**:
  - 右パネル上部: コピー/クリアを横並び（secondary/destructiveスタイル）
  - 画面下部: 生成ボタンを固定CTA（`sticky footer`）
  - クリック領域48px以上
  - フォーカスリングあり

### 5. レスポンシブ対応
- **現状**: 768px以下で簡易対応
- **改善**:
  - ブレークポイント1024px以下で縦1カラム
  - タブは上部固定
  - 本文→タブ→CTAの順
  - 下部CTAは`position: sticky; bottom: env(safe-area-inset-bottom)`

### 6. デザイントークン化
- **タイポグラフィ**:
  - フォント: system-ui, 14-16px, 行間1.6
- **色**:
  - 背景: #FAFAFA
  - カード: #FFFFFF
  - 境界: #EAEAEA
  - 強調: #111
  - サブ: #666
  - アクセント: #2563EB
  - 成功: #16A34A
  - 警告: #EA580C
  - 危険: #DC2626
- **余白/角丸**:
  - カード角丸: 12-16px
  - 影: ごく薄く

### 7. アクセシビリティ
- ラベルとコントラスト比4.5:1以上
- タブに`role="tablist"` + `aria-selected`
- ボタンは`aria-busy`/`disabled`の状態管理

## 🔧 実装ステップ

1. ✅ 既存コード分析完了
2. ⏳ CSS/スタイル改善（固定レイアウト、デザイントークン）
3. ⏳ タブUI改善
4. ⏳ ボタン/CTA改善
5. ⏳ レスポンシブ対応
6. ⏳ 動作確認

## ⚠️ 制約事項
- **機能（イベントハンドラ・API・生成ロジック）は絶対に変更しない**
- **既存のi18n日本語文言を維持**
- **CSS/スタイルの追加・軽微なHTML構造の整理のみ**

