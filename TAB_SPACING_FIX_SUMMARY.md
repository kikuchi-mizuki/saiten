# タブ下余白修正 & 8pxグリッド統一 - 実装サマリー

## ✅ 実装完了項目

### ① 1分パッチ（タブ下の謎の余白を消す）
- **タブ見出し行の高さを48pxに固定**
  - `[data-testid="stTabs"] > div:first-child`: 高さ48px、flex: 0 0 48px
  - 上下padding 0、align-items: flex-end
- **タブボタンの上下を詰める**
  - margin: 0、padding: 10px 0
  - border-bottom: 2px solid transparent（線で見せる）
- **タブパネルの高さ制御**
  - flex: 1 1 auto、overflow: auto
  - 先頭要素のmargin-top: 0（見出しの上マージンを無効化）

### ② 8pxグリッドシステム
- **Design Tokens追加**
  - `--g1: 8px`
  - `--g2: 16px`
  - `--g3: 24px`
  - `--g4: 32px`
- **全ての余白を8pxグリッドに統一**
  - カードpadding: `var(--g2)`
  - 見出しmargin: `var(--g3) 0 var(--g2)`
  - 段落margin: `0 0 var(--g2)`

### ③ 見出し階層の統一
- **h1**: 22px/28px, 600, margin: `0 0 var(--g2)`
- **h2/h3**: 18px/26px, 500, margin: `var(--g3) 0 var(--g2)`
- **タブパネル内の見出し**: 上マージン0、下マージン`var(--g2)`

### ④ カードの境界強化
- **境界色**: `#E2E5EB`（1段濃く）
- **影**: `0 1px 2px rgba(16, 24, 40, 0.04)`
- **padding**: `var(--g2)`

### ⑤ 右パネルのスキャフォールド
- **右カラム**: flex column、高さ`calc(100vh - 160px)`
- **タブコンテナ**: flex column、flex: 1 1 auto
- **タブ見出し**: flex: 0 0 48px
- **タブパネル**: flex: 1 1 auto、overflow: auto

### ⑥ CTAの品格調整
- **背景**: `#1E3A8A`
- **hover**: `#1B357F`
- **高さ**: 48px
- **padding**: `0 var(--g3)`
- **中央固定**: max-width: 480px

### ⑦ 末端処理
- **タブパネル先頭要素**: margin-top: 0
- **タブパネル末尾要素**: margin-bottom: 0
- **段落間隔**: 統一して`var(--g2)`

## 🎨 変更ファイル

1. **`/ui/design-tokens.css`**
   - 8pxグリッドシステム追加（--g1〜--g4）

2. **`/ui/base.css`**
   - 見出しの行高とマージン調整
   - カードの境界とpadding調整
   - 段落マージンの統一
   - CTAボタンのスタイル調整

3. **`/app/streamlit_app.py`**
   - タブの高さ固定（48px）
   - タブパネルのflex layout調整
   - 右パネルのスキャフォールド実装
   - 見出し・段落マージンの統一
   - タブパネル先頭/末尾要素のマージン無効化

## 📊 期待効果

- ✅ タブ下の謎の余白が解消
- ✅ タブ切替時、見出しの位置が各タブで完全に揃う
- ✅ 右パネルのスクロールがタブの下から始まる
- ✅ 全体の余白が8pxグリッドで統一され、リズム感が向上
- ✅ カードの境界が明確になり、面の階層が明確化
- ✅ CTAボタンが中央固定で品格向上

## 🎉 完了

右パネルのタブ下余白を解消し、8pxグリッドで全体のリズムを統一しました。
機能ロジックは一切変更せず、CSSのみで実現しています。

